# VPC

VPC는 **Virtual Private Cloud**의 약자고, 한 줄로 말하면 **클라우드 안에 만드는 “내 전용 사설 네트워크”** 입니다.

현실 세계로 비유하면:

* **VPC = 내 건물(사설망 공간)**
* **Subnet = 건물 안의 층/방(네트워크 구역)**
* **IP 대역(예: 10.0.0.0/16, 192.168.0.0/16) = 건물 주소 체계**
* **라우팅 테이블 = 길 안내 표지판(어디로 트래픽을 보낼지)**
* **Internet Gateway = 건물 정문(인터넷으로 나가는 출입구)**
* **NAT Gateway = 내부 직원이 밖에 전화 걸 때 대표번호로 나가는 장치(내부→외부만 가능)**
* **Security Group / Network ACL = 출입 통제 규칙(방화벽)**

---

## 왜 VPC가 필요한가?

클라우드 리소스(서버, DB, 쿠버네티스 노드 등)를 그냥 인터넷에 다 노출하면 위험하니까,
**안전한 내부망(사설 IP)** 에 넣어두고

* 내부끼리는 자유롭게 통신
* 외부에서는 필요한 것만 제한적으로 접근

이 구조를 만들기 위해 VPC를 씁니다.

---

## VPC랑 “내 맥북이 NKS에 접근”이랑 무슨 관계?

네 맥북은 보통 집/회사 네트워크에 있고, IP가 `192.168.x.x` 같은 **사설 IP**잖아.

NKS의 Kubernetes API 서버가:

### 1) **Public Endpoint**면

인터넷을 통해 접근 가능
→ 대신 “누가 접근할지”를 **IP allowlist**로 제한함.

### 2) **Private Endpoint**면

VPC 내부에서만 접근 가능
→ 맥북이 VPC 안에 “들어온 상태”(VPN, Bastion/Jump host 등)가 아니면 접근 불가.

즉, **API 엔드포인트가 Public이냐 Private냐**가 핵심입니다.

---

## 너가 올린 화면(“API 엔드포인트 접근 제어”)을 VPC 관점으로 해석하면

* `192.168.0.0/24` 같은 건 **VPC 내부/클러스터 내부 사설망 대역**일 가능성이 큼
* `192.168.219.100`(내 맥)도 **로컬 사설 IP**라서, 보통은 의미 없음
* 맥북에서 접근하려면 보통 **공인 IP/32**를 허용 목록에 넣거나(=Public endpoint일 때)
* 아니면 **VPN/Bastion으로 VPC 내부에 들어가야** 함(=Private endpoint일 때)


